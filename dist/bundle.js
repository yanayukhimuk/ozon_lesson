/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";const t=function(t){var e=document.querySelector(".cart-wrapper");e.innerHTML="",0===t.length?e.insertAdjacentHTML("beforeend",'<div id="cart-empty">\n\t\t\t\t\t–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫–∞ –ø—É—Å—Ç–∞\n\t\t\t\t</div>'):t.forEach(function(t){e.insertAdjacentHTML("beforeend",'<div class="card" data-key="'.concat(t.id,'">\n                                ').concat(t.sale?'<div class="card-sale">üî•Hot Saleüî•</div>':"",'\n\t\t\t\t\t\t\t\t\t<div class="card-img-wrapper">\n\t\t\t\t\t\t\t\t\t\t<span class="card-img-top" style="background-image: url(\'').concat(t.img,'\')"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="card-body justify-content-between">\n\t\t\t\t\t\t\t\t\t\t<div class="card-price">').concat(t.price,' ‚ÇΩ</div>\n\t\t\t\t\t\t\t\t\t\t<h5 class="card-title">').concat(t.title,'</h5>\n\t\t\t\t\t\t\t\t\t\t<button class="btn btn-primary">–£–¥–∞–ª–∏—Ç—å</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>'))})};function e(){var t,r,o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function i(e,o,c,a){var i=o&&o.prototype instanceof l?o:l,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var c,a,i,l=0,s=o||[],d=!1,f={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(e,n){return c=e,a=0,i=t,f.n=n,u}};function v(e,n){for(a=e,i=n,r=0;!d&&l&&!o&&r<s.length;r++){var o,c=s[r],v=f.p,p=c[2];e>3?(o=p===n)&&(i=c[(a=c[4])?5:(a=3,3)],c[4]=c[5]=t):c[0]<=v&&((o=e<2&&v<c[1])?(a=0,f.v=n,f.n=c[1]):v<p&&(o=e<3||c[0]>n||n>p)&&(c[4]=e,c[5]=n,f.n=p,a=0))}if(o||e>1)return u;throw d=!0,n}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===s&&v(s,p),a=s,i=p;(r=a<2?t:i)||!d;){c||(a?a<3?(a>1&&(f.n=-1),v(a,i)):f.n=i:f.v=i);try{if(l=2,c){if(a||(o="next"),r=c[o]){if(!(r=r.call(c,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=c.return)&&r.call(c),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);c=t}else if((r=(d=f.n<0)?i:e.call(n,f))!==u)break}catch(e){c=t,a=1,i=e}finally{l=1}}return{value:r,done:d}}}(e,c,a),!0),s}var u={};function l(){}function s(){}function d(){}r=Object.getPrototypeOf;var f=[][c]?r(r([][c]())):(n(r={},c,function(){return this}),r),v=d.prototype=l.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,n(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t}return s.prototype=d,n(v,"constructor",d),n(d,"constructor",s),s.displayName="GeneratorFunction",n(d,a,"GeneratorFunction"),n(v),n(v,a,"Generator"),n(v,c,function(){return this}),n(v,"toString",function(){return"[object Generator]"}),(e=function(){return{w:i,m:p}})()}function n(t,e,r,o){var c=Object.defineProperty;try{c({},"",{})}catch(t){c=0}n=function(t,e,r,o){function a(e,r){n(t,e,function(t){return this._invoke(e,r,t)})}e?c?c(t,e,{value:r,enumerable:!o,configurable:!o,writable:!o}):t[e]=r:(a("next",0),a("throw",1),a("return",2))},n(t,e,r,o)}function r(t,e,n,r,o,c,a){try{var i=t[c](a),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}var o=function(){var t,n=(t=e().m(function t(n){var r;return e().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch("https://test-e6b54-default-rtdb.firebaseio.com/goods.json",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}});case 1:return r=t.v,t.n=2,r.json();case 2:return t.a(2,t.v)}},t)}),function(){var e=this,n=arguments;return new Promise(function(o,c){var a=t.apply(e,n);function i(t){r(a,o,c,i,u,"next",t)}function u(t){r(a,o,c,i,u,"throw",t)}i(void 0)})});return function(t){return n.apply(this,arguments)}}();const c=o;function a(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function c(n,r,o,c){var a=r&&r.prototype instanceof l?r:l,s=Object.create(a.prototype);return i(s,"_invoke",function(n,r,o){var c,a,i,l=0,s=o||[],d=!1,f={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(e,n){return c=e,a=0,i=t,f.n=n,u}};function v(n,r){for(a=n,i=r,e=0;!d&&l&&!o&&e<s.length;e++){var o,c=s[e],v=f.p,p=c[2];n>3?(o=p===r)&&(i=c[(a=c[4])?5:(a=3,3)],c[4]=c[5]=t):c[0]<=v&&((o=n<2&&v<c[1])?(a=0,f.v=r,f.n=c[1]):v<p&&(o=n<3||c[0]>r||r>p)&&(c[4]=n,c[5]=r,f.n=p,a=0))}if(o||n>1)return u;throw d=!0,r}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===s&&v(s,p),a=s,i=p;(e=a<2?t:i)||!d;){c||(a?a<3?(a>1&&(f.n=-1),v(a,i)):f.n=i:f.v=i);try{if(l=2,c){if(a||(o="next"),e=c[o]){if(!(e=e.call(c,i)))throw TypeError("iterator result is not an object");if(!e.done)return e;i=e.value,a<2&&(a=0)}else 1===a&&(e=c.return)&&e.call(c),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);c=t}else if((e=(d=f.n<0)?i:n.call(r,f))!==u)break}catch(e){c=t,a=1,i=e}finally{l=1}}return{value:e,done:d}}}(n,o,c),!0),s}var u={};function l(){}function s(){}function d(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(i(e={},r,function(){return this}),e),v=d.prototype=l.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,i(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t}return s.prototype=d,i(v,"constructor",d),i(d,"constructor",s),s.displayName="GeneratorFunction",i(d,o,"GeneratorFunction"),i(v),i(v,o,"Generator"),i(v,r,function(){return this}),i(v,"toString",function(){return"[object Generator]"}),(a=function(){return{w:c,m:p}})()}function i(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}i=function(t,e,n,r){function c(e,n){i(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(c("next",0),c("throw",1),c("return",2))},i(t,e,n,r)}function u(t,e,n,r,o,c,a){try{var i=t[c](a),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}const l=function(){var t,e=(t=a().m(function t(){var e;return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch("https://test-e6b54-default-rtdb.firebaseio.com/goods.json");case 1:return e=t.v,t.n=2,e.json();case 2:return t.a(2,t.v)}},t)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var c=t.apply(e,n);function a(t){u(c,r,o,a,i,"next",t)}function i(t){u(c,r,o,a,i,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}(),s=function(t){var e=document.querySelector(".goods");e.innerHTML="",localStorage.setItem("goods",JSON.stringify(t)),t.forEach(function(t){e.insertAdjacentHTML("beforeend",'<div class="col-12 col-md-6 col-lg-4 col-xl-3">\n\t\t\t\t\t\t\t\t<div class="card" data-key="'.concat(t.id,'">\n                                ').concat(t.sale?'<div class="card-sale">üî•Hot Saleüî•</div>':"",'\n\t\t\t\t\t\t\t\t\t<div class="card-img-wrapper">\n\t\t\t\t\t\t\t\t\t\t<span class="card-img-top" style="background-image: url(\'').concat(t.img,'\')"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="card-body justify-content-between">\n\t\t\t\t\t\t\t\t\t\t<div class="card-price">').concat(t.price,' ‚ÇΩ</div>\n\t\t\t\t\t\t\t\t\t\t<h5 class="card-title">').concat(t.title,'</h5>\n\t\t\t\t\t\t\t\t\t\t<button class="btn btn-primary">–í –∫–æ—Ä–∑–∏–Ω—É</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n            '))})};var d=function(t,e,n){return t.filter(function(t){return""===e&&""===n?t:""!==e&&""!==n?t.price>+e&&t.price<+n:""!==e&&""===n?t.price>+e:""===e&&""!==n?t.price<+n:void 0})},f=function(t,e){return t.filter(function(t){return e?!0===t.sale:t})};var v,p,y,g,m,h,b,S,O,k;(function(){var e=document.getElementById("cart"),n=document.querySelector(".cart"),r=n.querySelector(".cart-close"),o=n.querySelector(".cart-total > span"),a=document.querySelector(".goods"),i=document.querySelector(".cart-wrapper"),u=n.querySelector(".cart-confirm"),l=document.querySelector(".counter");e.addEventListener("click",function(){var e;e=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],n.style.display="flex",t(e),o.textContent=e.reduce(function(t,e){return t+e.price},0)}),r.addEventListener("click",function(){n.style.display=""}),a.addEventListener("click",function(t){if(t.target.classList.contains("btn-primary")){var e=t.target.closest(".card").dataset.key,n=JSON.parse(localStorage.getItem("goods")),r=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],o=n.find(function(t){return t.id===+e});r.push(o),localStorage.setItem("cart",JSON.stringify(r)),s()}}),i.addEventListener("click",function(e){if(e.target.classList.contains("btn-primary")){var n=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],r=e.target.closest(".card").dataset.key,c=n.findIndex(function(t){return t.id===+r});n.splice(c,1),localStorage.setItem("cart",JSON.stringify(n)),t(n),o.textContent=n.reduce(function(t,e){return t+e.price},0),s()}}),u.addEventListener("click",function(){var e=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[];c(e).then(function(){localStorage.removeItem("cart"),t([]),o.textContent=0,l.textContent=0})});var s=function(){var t=JSON.parse(localStorage.getItem("cart"))||[];l.textContent=t.length}})(),O=document.querySelector(".counter"),k=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],O.textContent=+k.length,l().then(function(t){localStorage.setItem("goods",JSON.stringify(t)),s(t)}),document.querySelector(".search-wrapper_input").addEventListener("input",function(t){var e=t.target.value;l().then(function(t){s(function(t,e){return t.filter(function(t){return t.title.toLowerCase().includes(e.toLowerCase())})}(t,e))})}),m=document.querySelector(".catalog-button > button"),h=document.querySelector(".catalog"),b=document.querySelectorAll(".catalog li"),S=!1,m.addEventListener("click",function(){S=!S,h.style.display=S?"block":""}),b.forEach(function(t){t.addEventListener("click",function(){var e=t.textContent;l().then(function(t){var n;s((n=e,t.filter(function(t){return t.category===n})))})})}),v=document.getElementById("min"),p=document.getElementById("max"),y=document.getElementById("discount-checkbox"),g=document.querySelector(".filter-check_checkmark"),v.addEventListener("input",function(){l().then(function(t){s(d(f(t,y.checked),v.value,p.value))})}),p.addEventListener("input",function(){l().then(function(t){s(d(f(t,y.checked),v.value,p.value))})}),y.addEventListener("change",function(){y.checked?g.classList.add("checked"):g.classList.remove("checked"),l().then(function(t){s(d(f(t,y.checked),v.value,p.value))})})})();
//# sourceMappingURL=bundle.js.map